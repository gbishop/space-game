!function(I){var g={};function C(e){if(g[e])return g[e].exports;var n=g[e]={i:e,l:!1,exports:{}};return I[e].call(n.exports,n,n.exports,C),n.l=!0,n.exports}C.m=I,C.c=g,C.d=function(I,g,e){C.o(I,g)||Object.defineProperty(I,g,{enumerable:!0,get:e})},C.r=function(I){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(I,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(I,"__esModule",{value:!0})},C.t=function(I,g){if(1&g&&(I=C(I)),8&g)return I;if(4&g&&"object"==typeof I&&I&&I.__esModule)return I;var e=Object.create(null);if(C.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:I}),2&g&&"string"!=typeof I)for(var n in I)C.d(e,n,function(g){return I[g]}.bind(null,n));return e},C.n=function(I){var g=I&&I.__esModule?function(){return I.default}:function(){return I};return C.d(g,"a",g),g},C.o=function(I,g){return Object.prototype.hasOwnProperty.call(I,g)},C.p="",C(C.s=3)}([function(module,__webpack_exports__,__webpack_require__){"use strict";eval("const key = 'space-config';\nconst version = 1;\nclass Settings {\n    constructor() {\n        this.mode = 'auto';\n    }\n    persist() {\n        const data = { mode: this.mode, version: version };\n        const json = JSON.stringify(data);\n        localStorage.setItem(key, json);\n    }\n    restore() {\n        const json = localStorage.getItem(key);\n        if (json) {\n            const data = JSON.parse(json);\n            if (data.version == version) {\n                this.mode = data.mode;\n            }\n        }\n    }\n}\nconst settings = new Settings();\nsettings.restore();\n/* harmony default export */ __webpack_exports__[\"a\"] = (settings);\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvc2V0dGluZ3MudHM/YzIzYyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFBQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLHNCQUFzQjtBQUN0QjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDZSxpRUFBUSxFQUFDIiwiZmlsZSI6IjAuanMiLCJzb3VyY2VzQ29udGVudCI6WyJjb25zdCBrZXkgPSAnc3BhY2UtY29uZmlnJztcbmNvbnN0IHZlcnNpb24gPSAxO1xuY2xhc3MgU2V0dGluZ3Mge1xuICAgIGNvbnN0cnVjdG9yKCkge1xuICAgICAgICB0aGlzLm1vZGUgPSAnYXV0byc7XG4gICAgfVxuICAgIHBlcnNpc3QoKSB7XG4gICAgICAgIGNvbnN0IGRhdGEgPSB7IG1vZGU6IHRoaXMubW9kZSwgdmVyc2lvbjogdmVyc2lvbiB9O1xuICAgICAgICBjb25zdCBqc29uID0gSlNPTi5zdHJpbmdpZnkoZGF0YSk7XG4gICAgICAgIGxvY2FsU3RvcmFnZS5zZXRJdGVtKGtleSwganNvbik7XG4gICAgfVxuICAgIHJlc3RvcmUoKSB7XG4gICAgICAgIGNvbnN0IGpzb24gPSBsb2NhbFN0b3JhZ2UuZ2V0SXRlbShrZXkpO1xuICAgICAgICBpZiAoanNvbikge1xuICAgICAgICAgICAgY29uc3QgZGF0YSA9IEpTT04ucGFyc2UoanNvbik7XG4gICAgICAgICAgICBpZiAoZGF0YS52ZXJzaW9uID09IHZlcnNpb24pIHtcbiAgICAgICAgICAgICAgICB0aGlzLm1vZGUgPSBkYXRhLm1vZGU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG59XG5jb25zdCBzZXR0aW5ncyA9IG5ldyBTZXR0aW5ncygpO1xuc2V0dGluZ3MucmVzdG9yZSgpO1xuZXhwb3J0IGRlZmF1bHQgc2V0dGluZ3M7XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///0\n")},function(module,exports){eval("module.exports = Phaser;//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vZXh0ZXJuYWwgXCJQaGFzZXJcIj9lYmM2Il0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiJBQUFBIiwiZmlsZSI6IjEuanMiLCJzb3VyY2VzQ29udGVudCI6WyJtb2R1bGUuZXhwb3J0cyA9IFBoYXNlcjsiXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///1\n")},,function(module,__webpack_exports__,__webpack_require__){"use strict";eval('__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: external "Phaser"\nvar external_Phaser_ = __webpack_require__(1);\n\n// EXTERNAL MODULE: ./src/settings.ts\nvar settings = __webpack_require__(0);\n\n// CONCATENATED MODULE: ./src/base.ts\n\n\nclass SwitchBase extends Phaser.Scene {\n    constructor(args) {\n        super(args);\n        this.initialized = false;\n    }\n    getUserInput(choices, correct, func) {\n        if (!this.initialized) {\n            this.events.on("resume", (s, d) => this.userInput(d.choice));\n            /* There is a bug in run, now fixed but not yet released that makes\n             * it recreate instead of restarting a paused scene. I\'ll work around\n             * that by always resuming but I\'ll first need to run to get it started.\n             * I\'ll remove this when run gets released */\n            this.scene.run("ControlScene");\n            this.scene.pause("ControlScene");\n            this.initialized = true;\n        }\n        let inputConfig = { caller: this.scene.key, choices, correct };\n        this.scene.resume("ControlScene", inputConfig);\n        this.scene.pause();\n        this.callback = func;\n    }\n    userInput(choice) {\n        // this method will be called with the user\'s response\n        this.callback(choice);\n    }\n}\nclass base_ControlScene extends Phaser.Scene {\n    constructor() {\n        super({\n            key: "ControlScene"\n        });\n    }\n    returnInput(value) {\n        if (settings["a" /* default */].mode == "one") {\n            value = this.inputConfig.correct;\n        }\n        this.scene.resume(this.inputConfig.caller, { choice: value });\n        this.scene.pause();\n    }\n    setSelected(choice) {\n        const choices = document.querySelectorAll("button.choice");\n        let selected = document.querySelector("button.selected");\n        if (selected) {\n            selected.classList.remove("selected");\n        }\n        choices[choice].classList.add("selected");\n    }\n    create() {\n        console.log("create control");\n        this.input.keyboard.on("keydown-LEFT", (e) => {\n            // pass response back to caller\n            this.returnInput(0);\n        });\n        this.input.keyboard.on("keydown-RIGHT", (e) => {\n            // pass response back to caller\n            this.returnInput(1);\n        });\n        this.events.on("resume", (e, d) => {\n            this.inputConfig = d;\n            this.scene.pause(d.caller);\n            if (settings["a" /* default */].mode == "auto") {\n                this.time.delayedCall(1000, () => {\n                    this.setSelected(this.inputConfig.correct);\n                    this.returnInput(this.inputConfig.correct);\n                }, [], this);\n            }\n        });\n        document\n            .getElementById("left")\n            .addEventListener("click", e => this.returnInput(0));\n        document\n            .getElementById("right")\n            .addEventListener("click", e => this.returnInput(1));\n        this.input.keyboard.on("keydown-SPACE", (e) => {\n            const choices = document.querySelectorAll("button.choice");\n            let selected = document.querySelector("button.selected");\n            let i = 0;\n            if (selected) {\n                i = ([...choices].indexOf(selected) + 1) % choices.length;\n                selected.classList.remove("selected");\n            }\n            choices[i].classList.add("selected");\n        });\n        this.input.keyboard.on("keydown-ENTER", (e) => {\n            const selected = (document.querySelector("button.selected"));\n            if (selected) {\n                selected.click();\n            }\n        });\n    }\n}\n\n// CONCATENATED MODULE: ./src/game.ts\n\n\nclass game_GameScene extends SwitchBase {\n    constructor() {\n        super({\n            key: "GameScene"\n        });\n        this.elapsed = 0;\n        this.previous = 0; // previous elapsed\n        this.period = 2; // time per cycle\n        this.canvas = document.querySelector("canvas");\n        this.lane = 0;\n        this.rocket_lane = 1;\n        this.rocket_y = 0;\n        this.sign = 1;\n        this.freq = 1.5;\n        this.score = 0;\n    }\n    preload() {\n        this.load.image("alien", "assets/alien.png");\n        this.load.image("rocket", "assets/rocket.png");\n        this.load.image("particle", "assets/particle.png");\n        this.load.audio("pop", "assets/pop.wav");\n    }\n    create() {\n        console.log("create game");\n        this.scoreDisplay = this.add.text(20, 20, "0");\n        this.rocket_y = this.canvas.height * 0.9;\n        this.alien = this.add.sprite(this.canvas.width / 2, 10, "alien");\n        this.rocket = this.add.sprite((3 * this.canvas.width) / 4, this.rocket_y, "rocket");\n        // Enable physics on rocket and alien sprites\n        this.physics.world.enable([this.rocket, this.alien]);\n        this.collider = this.physics.add.overlap(this.rocket, this.alien, this.rocketCollideWithAlien, null, this);\n        this.particles = this.add.particles("particle");\n        this.emitter = this.particles.createEmitter({\n            angle: { min: 0, max: 360 },\n            speed: { min: 50, max: 200 },\n            quantity: { min: 40, max: 50 },\n            lifespan: { min: 200, max: 500 },\n            alpha: { start: 1, end: 0 },\n            scale: { min: 0.5, max: 0.5 },\n            rotate: { start: 0, end: 360 },\n            gravityY: 800,\n            on: false\n        });\n        this.reset();\n        this.sound.add("pop");\n    }\n    reset() {\n        const w = this.canvas.width;\n        this.elapsed = 0;\n        this.lane = Phaser.Math.Between(0, 1);\n        this.sign = 2 * Phaser.Math.Between(0, 1) - 1;\n        this.freq = 0.5 + Math.random() * 2;\n        this.rocket.x = w / 4 + (w / 2) * this.rocket_lane;\n        this.alien.setVisible(true);\n        this.collider.active = true;\n    }\n    update(time, delta) {\n        const w = this.canvas.width;\n        const h = this.canvas.height;\n        this.previous = this.elapsed;\n        this.elapsed += delta * 0.001;\n        // update when the period is exceeded\n        if (this.elapsed > this.period) {\n            this.reset();\n        }\n        // pause when we pass the decision time\n        const decision_time = this.period * 0.5;\n        if (this.previous < decision_time && this.elapsed >= decision_time) {\n            this.getUserInput(["left", "right"], this.lane, (v) => (this.rocket_lane = v));\n        }\n        const u = this.elapsed / this.period;\n        const goal_x = w / 4 + (this.lane * w) / 2;\n        const wiggle = w / 2 +\n            ((Math.min(10, this.score) * w) / 20) *\n                (this.sign * Math.sin(2 * Math.PI * this.freq * u));\n        const v = Math.min(1, (h / this.rocket_y) * u);\n        this.alien.x = (1 - v) * wiggle + v * goal_x;\n        this.alien.y = this.canvas.height * u;\n        const rocket_x = w / 4 + (this.rocket_lane * w) / 2;\n        this.rocket.x -= (this.rocket.x - rocket_x) / 10;\n    }\n    rocketCollideWithAlien() {\n        this.sound.play("pop");\n        // flash\n        this.cameras.main.flash();\n        // Hide the alien\n        this.alien.visible = false;\n        // prevent multiple collisions\n        this.collider.active = false;\n        // blowup\n        this.particles.emitParticleAt(this.alien.x, this.alien.y);\n        // update score\n        this.score += 1;\n        this.scoreDisplay.setText("" + this.score);\n    }\n}\n\n// CONCATENATED MODULE: ./src/app.ts\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, "MyGame", function() { return MyGame; });\n\n\n\nconst config = {\n    title: "Runner",\n    type: Phaser.AUTO,\n    width: 600,\n    height: 800,\n    /*\n    scale: {\n      mode: Phaser.Scale.FIT,\n      autoCenter: Phaser.Scale.CENTER_BOTH\n    }, */\n    parent: "play",\n    scene: [game_GameScene, base_ControlScene],\n    physics: {\n        default: "arcade",\n        arcade: {\n            debug: false\n        }\n    },\n    backgroundColor: "#444444"\n};\nclass MyGame extends Phaser.Game {\n    constructor(config) {\n        super(config);\n    }\n}\nwindow.onload = () => {\n    document\n        .getElementById("setup")\n        .addEventListener("click", () => (location.pathname = "settings.html"));\n    var game = new MyGame(config);\n};\n//# sourceURL=[module]\n//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIndlYnBhY2s6Ly8vLi9zcmMvYmFzZS50cz9hZTgzIiwid2VicGFjazovLy8uL3NyYy9nYW1lLnRzP2FhZmMiLCJ3ZWJwYWNrOi8vLy4vc3JjL2FwcC50cz9mMWIyIl0sIm5hbWVzIjpbXSwibWFwcGluZ3MiOiI7Ozs7Ozs7OztBQUFnQjtBQUNrQjtBQUMzQjtBQUNQO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLDJCQUEyQjtBQUMzQjtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDTyxNQUFNLGlCQUFZO0FBQ3pCO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBO0FBQ0EsWUFBWSwyQkFBUTtBQUNwQjtBQUNBO0FBQ0Esb0RBQW9ELGdCQUFnQjtBQUNwRTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBLGdCQUFnQiwyQkFBUTtBQUN4QjtBQUNBO0FBQ0E7QUFDQSxpQkFBaUI7QUFDakI7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsU0FBUztBQUNUO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTs7O0FDNUZnQjtBQUNvQjtBQUM3QixNQUFNLGNBQVMsU0FBUyxVQUFVO0FBQ3pDO0FBQ0E7QUFDQTtBQUNBLFNBQVM7QUFDVDtBQUNBLDBCQUEwQjtBQUMxQix3QkFBd0I7QUFDeEI7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSxvQkFBb0IsbUJBQW1CO0FBQ3ZDLG9CQUFvQixvQkFBb0I7QUFDeEMsdUJBQXVCLG1CQUFtQjtBQUMxQyx1QkFBdUIscUJBQXFCO0FBQzVDLG9CQUFvQixtQkFBbUI7QUFDdkMsb0JBQW9CLHFCQUFxQjtBQUN6QyxxQkFBcUIscUJBQXFCO0FBQzFDO0FBQ0E7QUFDQSxTQUFTO0FBQ1Q7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTs7O0FDakdBO0FBQWdCO0FBQ3NCO0FBQ0g7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0EsS0FBSztBQUNMO0FBQ0EsWUFBWSxjQUFTLEVBQUUsaUJBQVk7QUFDbkM7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBLEtBQUs7QUFDTDtBQUNBO0FBQ087QUFDUDtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQTtBQUNBO0FBQ0E7QUFDQSIsImZpbGUiOiIzLmpzIiwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IFwicGhhc2VyXCI7XG5pbXBvcnQgc2V0dGluZ3MgZnJvbSBcIi4vc2V0dGluZ3NcIjtcbmV4cG9ydCBjbGFzcyBTd2l0Y2hCYXNlIGV4dGVuZHMgUGhhc2VyLlNjZW5lIHtcbiAgICBjb25zdHJ1Y3RvcihhcmdzKSB7XG4gICAgICAgIHN1cGVyKGFyZ3MpO1xuICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gZmFsc2U7XG4gICAgfVxuICAgIGdldFVzZXJJbnB1dChjaG9pY2VzLCBjb3JyZWN0LCBmdW5jKSB7XG4gICAgICAgIGlmICghdGhpcy5pbml0aWFsaXplZCkge1xuICAgICAgICAgICAgdGhpcy5ldmVudHMub24oXCJyZXN1bWVcIiwgKHMsIGQpID0+IHRoaXMudXNlcklucHV0KGQuY2hvaWNlKSk7XG4gICAgICAgICAgICAvKiBUaGVyZSBpcyBhIGJ1ZyBpbiBydW4sIG5vdyBmaXhlZCBidXQgbm90IHlldCByZWxlYXNlZCB0aGF0IG1ha2VzXG4gICAgICAgICAgICAgKiBpdCByZWNyZWF0ZSBpbnN0ZWFkIG9mIHJlc3RhcnRpbmcgYSBwYXVzZWQgc2NlbmUuIEknbGwgd29yayBhcm91bmRcbiAgICAgICAgICAgICAqIHRoYXQgYnkgYWx3YXlzIHJlc3VtaW5nIGJ1dCBJJ2xsIGZpcnN0IG5lZWQgdG8gcnVuIHRvIGdldCBpdCBzdGFydGVkLlxuICAgICAgICAgICAgICogSSdsbCByZW1vdmUgdGhpcyB3aGVuIHJ1biBnZXRzIHJlbGVhc2VkICovXG4gICAgICAgICAgICB0aGlzLnNjZW5lLnJ1bihcIkNvbnRyb2xTY2VuZVwiKTtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoXCJDb250cm9sU2NlbmVcIik7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVkID0gdHJ1ZTtcbiAgICAgICAgfVxuICAgICAgICBsZXQgaW5wdXRDb25maWcgPSB7IGNhbGxlcjogdGhpcy5zY2VuZS5rZXksIGNob2ljZXMsIGNvcnJlY3QgfTtcbiAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUoXCJDb250cm9sU2NlbmVcIiwgaW5wdXRDb25maWcpO1xuICAgICAgICB0aGlzLnNjZW5lLnBhdXNlKCk7XG4gICAgICAgIHRoaXMuY2FsbGJhY2sgPSBmdW5jO1xuICAgIH1cbiAgICB1c2VySW5wdXQoY2hvaWNlKSB7XG4gICAgICAgIC8vIHRoaXMgbWV0aG9kIHdpbGwgYmUgY2FsbGVkIHdpdGggdGhlIHVzZXIncyByZXNwb25zZVxuICAgICAgICB0aGlzLmNhbGxiYWNrKGNob2ljZSk7XG4gICAgfVxufVxuZXhwb3J0IGNsYXNzIENvbnRyb2xTY2VuZSBleHRlbmRzIFBoYXNlci5TY2VuZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGtleTogXCJDb250cm9sU2NlbmVcIlxuICAgICAgICB9KTtcbiAgICB9XG4gICAgcmV0dXJuSW5wdXQodmFsdWUpIHtcbiAgICAgICAgaWYgKHNldHRpbmdzLm1vZGUgPT0gXCJvbmVcIikge1xuICAgICAgICAgICAgdmFsdWUgPSB0aGlzLmlucHV0Q29uZmlnLmNvcnJlY3Q7XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5zY2VuZS5yZXN1bWUodGhpcy5pbnB1dENvbmZpZy5jYWxsZXIsIHsgY2hvaWNlOiB2YWx1ZSB9KTtcbiAgICAgICAgdGhpcy5zY2VuZS5wYXVzZSgpO1xuICAgIH1cbiAgICBzZXRTZWxlY3RlZChjaG9pY2UpIHtcbiAgICAgICAgY29uc3QgY2hvaWNlcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3JBbGwoXCJidXR0b24uY2hvaWNlXCIpO1xuICAgICAgICBsZXQgc2VsZWN0ZWQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiYnV0dG9uLnNlbGVjdGVkXCIpO1xuICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgIHNlbGVjdGVkLmNsYXNzTGlzdC5yZW1vdmUoXCJzZWxlY3RlZFwiKTtcbiAgICAgICAgfVxuICAgICAgICBjaG9pY2VzW2Nob2ljZV0uY2xhc3NMaXN0LmFkZChcInNlbGVjdGVkXCIpO1xuICAgIH1cbiAgICBjcmVhdGUoKSB7XG4gICAgICAgIGNvbnNvbGUubG9nKFwiY3JlYXRlIGNvbnRyb2xcIik7XG4gICAgICAgIHRoaXMuaW5wdXQua2V5Ym9hcmQub24oXCJrZXlkb3duLUxFRlRcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIC8vIHBhc3MgcmVzcG9uc2UgYmFjayB0byBjYWxsZXJcbiAgICAgICAgICAgIHRoaXMucmV0dXJuSW5wdXQoMCk7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1SSUdIVFwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgLy8gcGFzcyByZXNwb25zZSBiYWNrIHRvIGNhbGxlclxuICAgICAgICAgICAgdGhpcy5yZXR1cm5JbnB1dCgxKTtcbiAgICAgICAgfSk7XG4gICAgICAgIHRoaXMuZXZlbnRzLm9uKFwicmVzdW1lXCIsIChlLCBkKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmlucHV0Q29uZmlnID0gZDtcbiAgICAgICAgICAgIHRoaXMuc2NlbmUucGF1c2UoZC5jYWxsZXIpO1xuICAgICAgICAgICAgaWYgKHNldHRpbmdzLm1vZGUgPT0gXCJhdXRvXCIpIHtcbiAgICAgICAgICAgICAgICB0aGlzLnRpbWUuZGVsYXllZENhbGwoMTAwMCwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnNldFNlbGVjdGVkKHRoaXMuaW5wdXRDb25maWcuY29ycmVjdCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucmV0dXJuSW5wdXQodGhpcy5pbnB1dENvbmZpZy5jb3JyZWN0KTtcbiAgICAgICAgICAgICAgICB9LCBbXSwgdGhpcyk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwibGVmdFwiKVxuICAgICAgICAgICAgLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCBlID0+IHRoaXMucmV0dXJuSW5wdXQoMCkpO1xuICAgICAgICBkb2N1bWVudFxuICAgICAgICAgICAgLmdldEVsZW1lbnRCeUlkKFwicmlnaHRcIilcbiAgICAgICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgZSA9PiB0aGlzLnJldHVybklucHV0KDEpKTtcbiAgICAgICAgdGhpcy5pbnB1dC5rZXlib2FyZC5vbihcImtleWRvd24tU1BBQ0VcIiwgKGUpID0+IHtcbiAgICAgICAgICAgIGNvbnN0IGNob2ljZXMgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yQWxsKFwiYnV0dG9uLmNob2ljZVwiKTtcbiAgICAgICAgICAgIGxldCBzZWxlY3RlZCA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJidXR0b24uc2VsZWN0ZWRcIik7XG4gICAgICAgICAgICBsZXQgaSA9IDA7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBpID0gKFsuLi5jaG9pY2VzXS5pbmRleE9mKHNlbGVjdGVkKSArIDEpICUgY2hvaWNlcy5sZW5ndGg7XG4gICAgICAgICAgICAgICAgc2VsZWN0ZWQuY2xhc3NMaXN0LnJlbW92ZShcInNlbGVjdGVkXCIpO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgY2hvaWNlc1tpXS5jbGFzc0xpc3QuYWRkKFwic2VsZWN0ZWRcIik7XG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLmlucHV0LmtleWJvYXJkLm9uKFwia2V5ZG93bi1FTlRFUlwiLCAoZSkgPT4ge1xuICAgICAgICAgICAgY29uc3Qgc2VsZWN0ZWQgPSAoZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcImJ1dHRvbi5zZWxlY3RlZFwiKSk7XG4gICAgICAgICAgICBpZiAoc2VsZWN0ZWQpIHtcbiAgICAgICAgICAgICAgICBzZWxlY3RlZC5jbGljaygpO1xuICAgICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXCJwaGFzZXJcIjtcbmltcG9ydCB7IFN3aXRjaEJhc2UgfSBmcm9tIFwiLi9iYXNlXCI7XG5leHBvcnQgY2xhc3MgR2FtZVNjZW5lIGV4dGVuZHMgU3dpdGNoQmFzZSB7XG4gICAgY29uc3RydWN0b3IoKSB7XG4gICAgICAgIHN1cGVyKHtcbiAgICAgICAgICAgIGtleTogXCJHYW1lU2NlbmVcIlxuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy5lbGFwc2VkID0gMDtcbiAgICAgICAgdGhpcy5wcmV2aW91cyA9IDA7IC8vIHByZXZpb3VzIGVsYXBzZWRcbiAgICAgICAgdGhpcy5wZXJpb2QgPSAyOyAvLyB0aW1lIHBlciBjeWNsZVxuICAgICAgICB0aGlzLmNhbnZhcyA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCJjYW52YXNcIik7XG4gICAgICAgIHRoaXMubGFuZSA9IDA7XG4gICAgICAgIHRoaXMucm9ja2V0X2xhbmUgPSAxO1xuICAgICAgICB0aGlzLnJvY2tldF95ID0gMDtcbiAgICAgICAgdGhpcy5zaWduID0gMTtcbiAgICAgICAgdGhpcy5mcmVxID0gMS41O1xuICAgICAgICB0aGlzLnNjb3JlID0gMDtcbiAgICB9XG4gICAgcHJlbG9hZCgpIHtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwiYWxpZW5cIiwgXCJhc3NldHMvYWxpZW4ucG5nXCIpO1xuICAgICAgICB0aGlzLmxvYWQuaW1hZ2UoXCJyb2NrZXRcIiwgXCJhc3NldHMvcm9ja2V0LnBuZ1wiKTtcbiAgICAgICAgdGhpcy5sb2FkLmltYWdlKFwicGFydGljbGVcIiwgXCJhc3NldHMvcGFydGljbGUucG5nXCIpO1xuICAgICAgICB0aGlzLmxvYWQuYXVkaW8oXCJwb3BcIiwgXCJhc3NldHMvcG9wLndhdlwiKTtcbiAgICB9XG4gICAgY3JlYXRlKCkge1xuICAgICAgICBjb25zb2xlLmxvZyhcImNyZWF0ZSBnYW1lXCIpO1xuICAgICAgICB0aGlzLnNjb3JlRGlzcGxheSA9IHRoaXMuYWRkLnRleHQoMjAsIDIwLCBcIjBcIik7XG4gICAgICAgIHRoaXMucm9ja2V0X3kgPSB0aGlzLmNhbnZhcy5oZWlnaHQgKiAwLjk7XG4gICAgICAgIHRoaXMuYWxpZW4gPSB0aGlzLmFkZC5zcHJpdGUodGhpcy5jYW52YXMud2lkdGggLyAyLCAxMCwgXCJhbGllblwiKTtcbiAgICAgICAgdGhpcy5yb2NrZXQgPSB0aGlzLmFkZC5zcHJpdGUoKDMgKiB0aGlzLmNhbnZhcy53aWR0aCkgLyA0LCB0aGlzLnJvY2tldF95LCBcInJvY2tldFwiKTtcbiAgICAgICAgLy8gRW5hYmxlIHBoeXNpY3Mgb24gcm9ja2V0IGFuZCBhbGllbiBzcHJpdGVzXG4gICAgICAgIHRoaXMucGh5c2ljcy53b3JsZC5lbmFibGUoW3RoaXMucm9ja2V0LCB0aGlzLmFsaWVuXSk7XG4gICAgICAgIHRoaXMuY29sbGlkZXIgPSB0aGlzLnBoeXNpY3MuYWRkLm92ZXJsYXAodGhpcy5yb2NrZXQsIHRoaXMuYWxpZW4sIHRoaXMucm9ja2V0Q29sbGlkZVdpdGhBbGllbiwgbnVsbCwgdGhpcyk7XG4gICAgICAgIHRoaXMucGFydGljbGVzID0gdGhpcy5hZGQucGFydGljbGVzKFwicGFydGljbGVcIik7XG4gICAgICAgIHRoaXMuZW1pdHRlciA9IHRoaXMucGFydGljbGVzLmNyZWF0ZUVtaXR0ZXIoe1xuICAgICAgICAgICAgYW5nbGU6IHsgbWluOiAwLCBtYXg6IDM2MCB9LFxuICAgICAgICAgICAgc3BlZWQ6IHsgbWluOiA1MCwgbWF4OiAyMDAgfSxcbiAgICAgICAgICAgIHF1YW50aXR5OiB7IG1pbjogNDAsIG1heDogNTAgfSxcbiAgICAgICAgICAgIGxpZmVzcGFuOiB7IG1pbjogMjAwLCBtYXg6IDUwMCB9LFxuICAgICAgICAgICAgYWxwaGE6IHsgc3RhcnQ6IDEsIGVuZDogMCB9LFxuICAgICAgICAgICAgc2NhbGU6IHsgbWluOiAwLjUsIG1heDogMC41IH0sXG4gICAgICAgICAgICByb3RhdGU6IHsgc3RhcnQ6IDAsIGVuZDogMzYwIH0sXG4gICAgICAgICAgICBncmF2aXR5WTogODAwLFxuICAgICAgICAgICAgb246IGZhbHNlXG4gICAgICAgIH0pO1xuICAgICAgICB0aGlzLnJlc2V0KCk7XG4gICAgICAgIHRoaXMuc291bmQuYWRkKFwicG9wXCIpO1xuICAgIH1cbiAgICByZXNldCgpIHtcbiAgICAgICAgY29uc3QgdyA9IHRoaXMuY2FudmFzLndpZHRoO1xuICAgICAgICB0aGlzLmVsYXBzZWQgPSAwO1xuICAgICAgICB0aGlzLmxhbmUgPSBQaGFzZXIuTWF0aC5CZXR3ZWVuKDAsIDEpO1xuICAgICAgICB0aGlzLnNpZ24gPSAyICogUGhhc2VyLk1hdGguQmV0d2VlbigwLCAxKSAtIDE7XG4gICAgICAgIHRoaXMuZnJlcSA9IDAuNSArIE1hdGgucmFuZG9tKCkgKiAyO1xuICAgICAgICB0aGlzLnJvY2tldC54ID0gdyAvIDQgKyAodyAvIDIpICogdGhpcy5yb2NrZXRfbGFuZTtcbiAgICAgICAgdGhpcy5hbGllbi5zZXRWaXNpYmxlKHRydWUpO1xuICAgICAgICB0aGlzLmNvbGxpZGVyLmFjdGl2ZSA9IHRydWU7XG4gICAgfVxuICAgIHVwZGF0ZSh0aW1lLCBkZWx0YSkge1xuICAgICAgICBjb25zdCB3ID0gdGhpcy5jYW52YXMud2lkdGg7XG4gICAgICAgIGNvbnN0IGggPSB0aGlzLmNhbnZhcy5oZWlnaHQ7XG4gICAgICAgIHRoaXMucHJldmlvdXMgPSB0aGlzLmVsYXBzZWQ7XG4gICAgICAgIHRoaXMuZWxhcHNlZCArPSBkZWx0YSAqIDAuMDAxO1xuICAgICAgICAvLyB1cGRhdGUgd2hlbiB0aGUgcGVyaW9kIGlzIGV4Y2VlZGVkXG4gICAgICAgIGlmICh0aGlzLmVsYXBzZWQgPiB0aGlzLnBlcmlvZCkge1xuICAgICAgICAgICAgdGhpcy5yZXNldCgpO1xuICAgICAgICB9XG4gICAgICAgIC8vIHBhdXNlIHdoZW4gd2UgcGFzcyB0aGUgZGVjaXNpb24gdGltZVxuICAgICAgICBjb25zdCBkZWNpc2lvbl90aW1lID0gdGhpcy5wZXJpb2QgKiAwLjU7XG4gICAgICAgIGlmICh0aGlzLnByZXZpb3VzIDwgZGVjaXNpb25fdGltZSAmJiB0aGlzLmVsYXBzZWQgPj0gZGVjaXNpb25fdGltZSkge1xuICAgICAgICAgICAgdGhpcy5nZXRVc2VySW5wdXQoW1wibGVmdFwiLCBcInJpZ2h0XCJdLCB0aGlzLmxhbmUsICh2KSA9PiAodGhpcy5yb2NrZXRfbGFuZSA9IHYpKTtcbiAgICAgICAgfVxuICAgICAgICBjb25zdCB1ID0gdGhpcy5lbGFwc2VkIC8gdGhpcy5wZXJpb2Q7XG4gICAgICAgIGNvbnN0IGdvYWxfeCA9IHcgLyA0ICsgKHRoaXMubGFuZSAqIHcpIC8gMjtcbiAgICAgICAgY29uc3Qgd2lnZ2xlID0gdyAvIDIgK1xuICAgICAgICAgICAgKChNYXRoLm1pbigxMCwgdGhpcy5zY29yZSkgKiB3KSAvIDIwKSAqXG4gICAgICAgICAgICAgICAgKHRoaXMuc2lnbiAqIE1hdGguc2luKDIgKiBNYXRoLlBJICogdGhpcy5mcmVxICogdSkpO1xuICAgICAgICBjb25zdCB2ID0gTWF0aC5taW4oMSwgKGggLyB0aGlzLnJvY2tldF95KSAqIHUpO1xuICAgICAgICB0aGlzLmFsaWVuLnggPSAoMSAtIHYpICogd2lnZ2xlICsgdiAqIGdvYWxfeDtcbiAgICAgICAgdGhpcy5hbGllbi55ID0gdGhpcy5jYW52YXMuaGVpZ2h0ICogdTtcbiAgICAgICAgY29uc3Qgcm9ja2V0X3ggPSB3IC8gNCArICh0aGlzLnJvY2tldF9sYW5lICogdykgLyAyO1xuICAgICAgICB0aGlzLnJvY2tldC54IC09ICh0aGlzLnJvY2tldC54IC0gcm9ja2V0X3gpIC8gMTA7XG4gICAgfVxuICAgIHJvY2tldENvbGxpZGVXaXRoQWxpZW4oKSB7XG4gICAgICAgIHRoaXMuc291bmQucGxheShcInBvcFwiKTtcbiAgICAgICAgLy8gZmxhc2hcbiAgICAgICAgdGhpcy5jYW1lcmFzLm1haW4uZmxhc2goKTtcbiAgICAgICAgLy8gSGlkZSB0aGUgYWxpZW5cbiAgICAgICAgdGhpcy5hbGllbi52aXNpYmxlID0gZmFsc2U7XG4gICAgICAgIC8vIHByZXZlbnQgbXVsdGlwbGUgY29sbGlzaW9uc1xuICAgICAgICB0aGlzLmNvbGxpZGVyLmFjdGl2ZSA9IGZhbHNlO1xuICAgICAgICAvLyBibG93dXBcbiAgICAgICAgdGhpcy5wYXJ0aWNsZXMuZW1pdFBhcnRpY2xlQXQodGhpcy5hbGllbi54LCB0aGlzLmFsaWVuLnkpO1xuICAgICAgICAvLyB1cGRhdGUgc2NvcmVcbiAgICAgICAgdGhpcy5zY29yZSArPSAxO1xuICAgICAgICB0aGlzLnNjb3JlRGlzcGxheS5zZXRUZXh0KFwiXCIgKyB0aGlzLnNjb3JlKTtcbiAgICB9XG59XG4iLCJpbXBvcnQgXCJwaGFzZXJcIjtcbmltcG9ydCB7IENvbnRyb2xTY2VuZSB9IGZyb20gXCIuL2Jhc2VcIjtcbmltcG9ydCB7IEdhbWVTY2VuZSB9IGZyb20gXCIuL2dhbWVcIjtcbmNvbnN0IGNvbmZpZyA9IHtcbiAgICB0aXRsZTogXCJSdW5uZXJcIixcbiAgICB0eXBlOiBQaGFzZXIuQVVUTyxcbiAgICB3aWR0aDogNjAwLFxuICAgIGhlaWdodDogODAwLFxuICAgIC8qXG4gICAgc2NhbGU6IHtcbiAgICAgIG1vZGU6IFBoYXNlci5TY2FsZS5GSVQsXG4gICAgICBhdXRvQ2VudGVyOiBQaGFzZXIuU2NhbGUuQ0VOVEVSX0JPVEhcbiAgICB9LCAqL1xuICAgIHBhcmVudDogXCJwbGF5XCIsXG4gICAgc2NlbmU6IFtHYW1lU2NlbmUsIENvbnRyb2xTY2VuZV0sXG4gICAgcGh5c2ljczoge1xuICAgICAgICBkZWZhdWx0OiBcImFyY2FkZVwiLFxuICAgICAgICBhcmNhZGU6IHtcbiAgICAgICAgICAgIGRlYnVnOiBmYWxzZVxuICAgICAgICB9XG4gICAgfSxcbiAgICBiYWNrZ3JvdW5kQ29sb3I6IFwiIzQ0NDQ0NFwiXG59O1xuZXhwb3J0IGNsYXNzIE15R2FtZSBleHRlbmRzIFBoYXNlci5HYW1lIHtcbiAgICBjb25zdHJ1Y3Rvcihjb25maWcpIHtcbiAgICAgICAgc3VwZXIoY29uZmlnKTtcbiAgICB9XG59XG53aW5kb3cub25sb2FkID0gKCkgPT4ge1xuICAgIGRvY3VtZW50XG4gICAgICAgIC5nZXRFbGVtZW50QnlJZChcInNldHVwXCIpXG4gICAgICAgIC5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4gKGxvY2F0aW9uLnBhdGhuYW1lID0gXCJzZXR0aW5ncy5odG1sXCIpKTtcbiAgICB2YXIgZ2FtZSA9IG5ldyBNeUdhbWUoY29uZmlnKTtcbn07XG4iXSwic291cmNlUm9vdCI6IiJ9\n//# sourceURL=webpack-internal:///3\n')}]);